/**
 ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² s ï¼Œè¯·ä½ æ ¹æ®ä¸‹é¢çš„ç®—æ³•é‡æ–°æ„é€ å­—ç¬¦ä¸²ï¼š
 
 
 ä» s ä¸­é€‰å‡º æœ€å° çš„å­—ç¬¦ï¼Œå°†å®ƒ æ¥åœ¨ ç»“æœå­—ç¬¦ä¸²çš„åé¢ã€‚
 ä» s å‰©ä½™å­—ç¬¦ä¸­é€‰å‡º æœ€å° çš„å­—ç¬¦ï¼Œä¸”è¯¥å­—ç¬¦æ¯”ä¸Šä¸€ä¸ªæ·»åŠ çš„å­—ç¬¦å¤§ï¼Œå°†å®ƒ æ¥åœ¨ ç»“æœå­—ç¬¦ä¸²åé¢ã€‚
 é‡å¤æ­¥éª¤ 2 ï¼Œç›´åˆ°ä½ æ²¡æ³•ä» s ä¸­é€‰æ‹©å­—ç¬¦ã€‚
 ä» s ä¸­é€‰å‡º æœ€å¤§ çš„å­—ç¬¦ï¼Œå°†å®ƒ æ¥åœ¨ ç»“æœå­—ç¬¦ä¸²çš„åé¢ã€‚
 ä» s å‰©ä½™å­—ç¬¦ä¸­é€‰å‡º æœ€å¤§ çš„å­—ç¬¦ï¼Œä¸”è¯¥å­—ç¬¦æ¯”ä¸Šä¸€ä¸ªæ·»åŠ çš„å­—ç¬¦å°ï¼Œå°†å®ƒ æ¥åœ¨ ç»“æœå­—ç¬¦ä¸²åé¢ã€‚
 é‡å¤æ­¥éª¤ 5 ï¼Œç›´åˆ°ä½ æ²¡æ³•ä» s ä¸­é€‰æ‹©å­—ç¬¦ã€‚
 é‡å¤æ­¥éª¤ 1 åˆ° 6 ï¼Œç›´åˆ° s ä¸­æ‰€æœ‰å­—ç¬¦éƒ½å·²ç»è¢«é€‰è¿‡ã€‚
 
 
 åœ¨ä»»ä½•ä¸€æ­¥ä¸­ï¼Œå¦‚æœæœ€å°æˆ–è€…æœ€å¤§å­—ç¬¦ä¸æ­¢ä¸€ä¸ª ï¼Œä½ å¯ä»¥é€‰æ‹©å…¶ä¸­ä»»æ„ä¸€ä¸ªï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°ç»“æœå­—ç¬¦ä¸²ã€‚
 
 è¯·ä½ è¿”å›å°† s ä¸­å­—ç¬¦é‡æ–°æ’åºåçš„ ç»“æœå­—ç¬¦ä¸² ã€‚
 
 
 
 ç¤ºä¾‹ 1ï¼š
 
 è¾“å…¥ï¼šs = "aaaabbbbcccc"
 è¾“å‡ºï¼š"abccbaabccba"
 è§£é‡Šï¼šç¬¬ä¸€è½®çš„æ­¥éª¤ 1ï¼Œ2ï¼Œ3 åï¼Œç»“æœå­—ç¬¦ä¸²ä¸º result = "abc"
 ç¬¬ä¸€è½®çš„æ­¥éª¤ 4ï¼Œ5ï¼Œ6 åï¼Œç»“æœå­—ç¬¦ä¸²ä¸º result = "abccba"
 ç¬¬ä¸€è½®ç»“æŸï¼Œç°åœ¨ s = "aabbcc" ï¼Œæˆ‘ä»¬å†æ¬¡å›åˆ°æ­¥éª¤ 1
 ç¬¬äºŒè½®çš„æ­¥éª¤ 1ï¼Œ2ï¼Œ3 åï¼Œç»“æœå­—ç¬¦ä¸²ä¸º result = "abccbaabc"
 ç¬¬äºŒè½®çš„æ­¥éª¤ 4ï¼Œ5ï¼Œ6 åï¼Œç»“æœå­—ç¬¦ä¸²ä¸º result = "abccbaabccba"
 
 
 ç¤ºä¾‹ 2ï¼š
 
 è¾“å…¥ï¼šs = "rat"
 è¾“å‡ºï¼š"art"
 è§£é‡Šï¼šå•è¯ "rat" åœ¨ä¸Šè¿°ç®—æ³•é‡æ’åºä»¥åå˜æˆ "art"
 
 
 ç¤ºä¾‹ 3ï¼š
 
 è¾“å…¥ï¼šs = "leetcode"
 è¾“å‡ºï¼š"cdelotee"
 
 
 ç¤ºä¾‹ 4ï¼š
 
 è¾“å…¥ï¼šs = "ggggggg"
 è¾“å‡ºï¼š"ggggggg"
 
 
 ç¤ºä¾‹ 5ï¼š
 
 è¾“å…¥ï¼šs = "spo"
 è¾“å‡ºï¼š"ops"
 
 
 
 
 æç¤ºï¼š
 
 
 1 <= s.length <= 500
 s åªåŒ…å«å°å†™è‹±æ–‡å­—æ¯ã€‚
 
 
 Related Topics å“ˆå¸Œè¡¨ å­—ç¬¦ä¸² è®¡æ•° ğŸ‘ 112 ğŸ‘ 0
 
 */

//leetcode submit region begin(Prohibit modification and deletion)
function sortString(s: string): string {
    let sortChars = [...new Set(s)].sort()
    const hash = new Map<string, number>()
    for (const char of s) {
        hash.set(char, hash.has(char) ? hash.get(char) + 1 : 1)
    }
    let res = ''
    while (sortChars.length !== 0) {
        for (let i = 0; i < sortChars.length; i++) {
            res += helper(sortChars, hash, i)
        }
        for (let i = sortChars.length - 1; i >= 0; i--) {
            res += helper(sortChars, hash, i)
        }
        sortChars = sortChars.filter((char) => char !== '')
    }
    return res
}

function helper(sortChars: string[], hash: Map<string, number>, index: number): string {
    let res = ''
    const curCount = hash.get(sortChars[index])
    if (curCount !== 0) {
        res += sortChars[index]
        if (curCount - 1 === 0) {
            sortChars[index] = ''
        } else {
            hash.set(sortChars[index], hash.get(sortChars[index]) - 1)
        }
    }
    return res
}

//leetcode submit region end(Prohibit modification and deletion)

sortString('leetcode')
sortString('rat')
sortString('rrrrrrr')
sortString('spo')
